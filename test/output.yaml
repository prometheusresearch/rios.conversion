#
# This file contains expected test output data generated by PBBT.
#
---
suite: rios.conversion
tests:
- sh: pip install --quiet rios.core
  stdout: ''
- sh: redcap-rios --help
  stdout: "usage: redcap-rios [-h] [-v] [--format {yaml,json}] --id ID --infile INFILE\n
    \                  --instrument-version INSTRUMENT_VERSION\n                   [--localization
    LOCALIZATION] --prefix PREFIX --title TITLE\n\nConverts a redcap csv file into
    a series of output files\n\n    - <prefix>_c.<format> RIOS calculation\n    -
    <prefix>_i.<format> RIOS instrument\n    - <prefix>_f.<format> RIOS web form\n\nThe
    RIOS calculation file is only created when there are \ncalculation fields in the
    input.\n\noptional arguments:\n  -h, --help            show this help message
    and exit\n  -v, --version         show program's version number and exit\n  --format
    {yaml,json}  The format and extension for the output files.  The default is \"yaml\".\n
    \ --id ID               The instrument id to output.\n  --infile INFILE       The
    csv input file to process.  Use '-' for stdin.\n  --instrument-version INSTRUMENT_VERSION\n
    \                       The instrument version to output.\n  --localization LOCALIZATION\n
    \                       The default localization for the web form.  The default
    is \"en\"\n  --prefix PREFIX       The prefix for the output files\n  --title
    TITLE         The instrument title to output.\n"
- sh: redcap-rios --version
  stdout: |
    redcap-rios 0.2.0
- sh: qualtrics-rios --help
  stdout: "usage: qualtrics-rios [-h] [-v] [--format {yaml,json}] --infile INFILE\n
    \                     --instrument-version INSTRUMENT_VERSION --prefix PREFIX\n\nConverts
    a Qualtrics qsf file into a series of output files\n\n    - <prefix>_c.<format>
    RIOS calculation\n    - <prefix>_i.<format> RIOS instrument\n    - <prefix>_f.<format>
    RIOS web form\n\nThe RIOS calculation file is only created when there are \ncalculation
    fields in the input.\n\noptional arguments:\n  -h, --help            show this
    help message and exit\n  -v, --version         show program's version number and
    exit\n  --format {yaml,json}  The format and extension for the output files.  The
    default is \"yaml\".\n  --infile INFILE       The qsf input file to process.  Use
    '-' for stdin.\n  --instrument-version INSTRUMENT_VERSION\n                        The
    instrument version to output.\n  --prefix PREFIX       The prefix for the output
    files\n"
- sh: qualtrics-rios --version
  stdout: |
    qualtrics-rios 0.2.0
- sh: redcap-rios --title test_redcap_1 --id urn:redcap_1 --instrument-version 1.0
    --infile ./test/redcap_1.csv --prefix ./test/sandbox/test_redcap_1
  stdout: ''
- sh: redcap-rios --title test_redcap_1 --id redcap_1 --instrument-version 1.0 --infile
    ./test/redcap_1.csv --prefix ./test/sandbox/test_redcap_1
  stdout: ''
- sh: cat ./test/sandbox/test_redcap_1_c.yaml
  stdout: |
    calculations:
    - description: Age (years)
      id: age
      method: python
      options:
        expression: rios.conversion.redcap.math.round_(rios.conversion.redcap.date.datediff(assessment["dob"],'today','y'),0)
      type: float
    - description: BMI
      id: bmi
      method: python
      options:
        expression: rios.conversion.redcap.math.round_((calculations["age"]*10000)/((assessment["height"])^(2)),1)
      type: float
    instrument:
      id: urn:redcap_1
      version: '1.0'
- sh: cat ./test/sandbox/test_redcap_1_f.yaml
  stdout: |
    defaultLocalization: en
    instrument:
      id: urn:redcap_1
      version: '1.0'
    pages:
    - elements:
      - options:
          fieldId: study_id
          text:
            en: Study ID
          widget:
            type: inputText
        type: question
      - options:
          text:
            en: Demographic Characteristics
        type: header
      - options:
          fieldId: date_enrolled
          help:
            en: YYYY-MM-DD
          text:
            en: Date subject signed consent
          widget:
            type: dateTimePicker
        type: question
      - options:
          fieldId: first_name
          text:
            en: First Name
          widget:
            type: inputText
        type: question
      - options:
          fieldId: last_name
          text:
            en: Last Name
          widget:
            type: inputText
        type: question
      - options:
          text:
            en: Contact Information
        type: header
      - options:
          fieldId: address
          text:
            en: Street, City, State, ZIP
          widget:
            type: textArea
        type: question
      - options:
          fieldId: telephone_1
          help:
            en: Include Area Code
          text:
            en: Phone number
          widget:
            type: inputText
        type: question
      - options:
          fieldId: telephone_2
          help:
            en: Include Area Code
          text:
            en: Second phone number
          widget:
            type: inputText
        type: question
      - options:
          fieldId: email
          text:
            en: E-mail
          widget:
            type: inputText
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: ' Female'
          - id: '1'
            text:
              en: ' Male'
          fieldId: sex
          text:
            en: Gender
          widget:
            type: dropDown
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: ' No'
          - id: '1'
            text:
              en: ' Yes'
          events:
          - action: disable
            trigger: rios.conversion.redcap.math.not_(assessment["sex"] == "0")
          fieldId: given_birth
          text:
            en: Has the subject given birth before?
          widget:
            type: dropDown
        type: question
      - options:
          events:
          - action: disable
            trigger: rios.conversion.redcap.math.not_(assessment["sex"] == "0" and assessment["given_birth"]
              == "1")
          fieldId: num_children
          text:
            en: How many times has the subject given birth?
          widget:
            type: inputNumber
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: ' Hispanic or Latino'
          - id: '1'
            text:
              en: ' NOT Hispanic or Latino'
          - id: '2'
            text:
              en: ' Unknown / Not Reported'
          fieldId: ethnicity
          text:
            en: Ethnicity
          widget:
            type: radioGroup
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: ' American Indian/Alaska Native'
          - id: '1'
            text:
              en: ' Asian'
          - id: '2'
            text:
              en: ' Native Hawaiian or Other Pacific Islander'
          - id: '3'
            text:
              en: ' Black or African American'
          - id: '4'
            text:
              en: ' White'
          - id: '5'
            text:
              en: ' More Than One Race'
          - id: '6'
            text:
              en: ' Unknown / Not Reported'
          fieldId: race
          text:
            en: Race
          widget:
            type: checkGroup
        type: question
      - options:
          fieldId: dob
          help:
            en: YYYY-MM-DD
          text:
            en: Date of birth
          widget:
            type: dateTimePicker
        type: question
      - options:
          fieldId: height
          help:
            en: cm
          text:
            en: Height (cm)
          widget:
            type: inputNumber
        type: question
      - options:
          fieldId: weight
          help:
            en: kilograms
          text:
            en: Weight (kilograms)
          widget:
            type: inputNumber
        type: question
      - options:
          fieldId: comorbidities
          text:
            en: Any comorbid condition
          widget:
            type: inputText
        type: question
      id: demographics
    - elements:
      - options:
          enumerations:
          - id: a
            text:
              en: ' No'
          - id: b
            text:
              en: ' Yes'
          fieldId: diabetes
          text:
            en: Patient has a diagnosis of diabetes mellitus?
          widget:
            type: dropDown
        type: question
      - options:
          enumerations:
          - id: a
            text:
              en: ' Type 1 insulin-dependent'
          - id: b
            text:
              en: ' Type 2 insulin-dependent'
          - id: c
            text:
              en: ' Type 2 non insulin-dependent'
          fieldId: diabetes_type
          text:
            en: Type of Diabetes Mellitus
          widget:
            type: dropDown
        type: question
      - options:
          text:
            en: Dialysis Information
        type: header
      - options:
          fieldId: dialysis_initiation
          help:
            en: DD-MM-YYYYY
          text:
            en: Date of first outpatient dialysis treatment
          widget:
            type: dateTimePicker
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: ' Graft'
          - id: '1'
            text:
              en: ' Fistula'
          - id: '2'
            text:
              en: ' Catheter with maturing graft'
          - id: '3'
            text:
              en: ' Catheter with maturing fistula'
          fieldId: access_type
          text:
            en: Type of vascular access
          widget:
            type: dropDown
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: ' Forearm'
          - id: '1'
            text:
              en: ' Upper arm'
          - id: '2'
            text:
              en: ' Internal jugular vein'
          - id: '3'
            text:
              en: ' Subclavian vein'
          - id: '4'
            text:
              en: ' Other'
          fieldId: access_location
          text:
            en: Location of currently used vascular access
          widget:
            type: dropDown
        type: question
      - options:
          fieldId: dialysis_unit_name
          text:
            en: Name of dialysis unit
          widget:
            type: inputText
        type: question
      - options:
          fieldId: dialysis_unit_phone
          help:
            en: Include Area Code
          text:
            en: Phone number
          widget:
            type: inputText
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: ' Monday-Wednesday-Friday'
          - id: '1'
            text:
              en: ' Tuesday-Thursday-Saturday'
          - id: '2'
            text:
              en: ' Other'
          fieldId: dialysis_schedule_days
          text:
            en: Days of the week patient is dialyzed
          widget:
            type: radioGroup
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: ' First shift'
          - id: '1'
            text:
              en: ' Second shift'
          - id: '2'
            text:
              en: ' Third shift'
          - id: '3'
            text:
              en: ' Fourth shift'
          fieldId: dialysis_schedule_time
          text:
            en: Shift patient is dialyzed
          widget:
            type: dropDown
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: ' Diabetes'
          - id: '1'
            text:
              en: ' Hypertension'
          - id: '2'
            text:
              en: ' Glomerulonephritis'
          - id: '3'
            text:
              en: ' Polycystic Kidney Disease'
          - id: '4'
            text:
              en: ' Interstitial Nephritis'
          - id: '5'
            text:
              en: ' Hereditary Nephritis'
          - id: '6'
            text:
              en: ' Other'
          fieldId: etiology_esrd
          text:
            en: Etiology of ESRD
          widget:
            type: dropDown
        type: question
      - options:
          text:
            en: General Comments
        type: header
      - options:
          fieldId: subject_comments
          text:
            en: Comments
          widget:
            type: textArea
        type: question
      id: dialysis_info
    title:
      en: test_redcap_1
- sh: cat ./test/sandbox/test_redcap_1_i.yaml
  stdout: |
    id: urn:redcap_1
    record:
    - description: Study ID
      id: study_id
      identifiable: false
      required: false
      type: text
    - description: Date subject signed consent
      id: date_enrolled
      identifiable: false
      required: false
      type: dateTime
    - description: First Name
      id: first_name
      identifiable: true
      required: false
      type: text
    - description: Last Name
      id: last_name
      identifiable: true
      required: false
      type: text
    - description: Street, City, State, ZIP
      id: address
      identifiable: true
      required: false
      type: text
    - description: Phone number
      id: telephone_1
      identifiable: true
      required: false
      type: text
    - description: Second phone number
      id: telephone_2
      identifiable: true
      required: false
      type: text
    - description: E-mail
      id: email
      identifiable: true
      required: false
      type: text
    - description: Gender
      id: sex
      identifiable: false
      required: true
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
    - description: Has the subject given birth before?
      id: given_birth
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
    - description: How many times has the subject given birth?
      id: num_children
      identifiable: false
      required: false
      type:
        base: integer
        range:
          min: 0
    - description: Ethnicity
      id: ethnicity
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
          '2': null
    - description: Race
      id: race
      identifiable: false
      required: false
      type:
        base: enumerationSet
        enumerations:
          '0': null
          '1': null
          '2': null
          '3': null
          '4': null
          '5': null
          '6': null
    - description: Date of birth
      id: dob
      identifiable: true
      required: false
      type: dateTime
    - description: Height (cm)
      id: height
      identifiable: false
      required: false
      type:
        base: float
        range:
          max: 215.0
          min: 130.0
    - description: Weight (kilograms)
      id: weight
      identifiable: false
      required: false
      type:
        base: integer
        range:
          max: 200
          min: 35
    - description: Any comorbid condition
      id: comorbidities
      identifiable: false
      required: false
      type: text
    - description: Patient has a diagnosis of diabetes mellitus?
      id: diabetes
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          a: null
          b: null
    - description: Type of Diabetes Mellitus
      id: diabetes_type
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          a: null
          b: null
          c: null
    - description: Date of first outpatient dialysis treatment
      id: dialysis_initiation
      identifiable: false
      required: false
      type: dateTime
    - description: Type of vascular access
      id: access_type
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
          '2': null
          '3': null
    - description: Location of currently used vascular access
      id: access_location
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
          '2': null
          '3': null
          '4': null
    - description: Name of dialysis unit
      id: dialysis_unit_name
      identifiable: false
      required: false
      type: text
    - description: Phone number
      id: dialysis_unit_phone
      identifiable: false
      required: false
      type: text
    - description: Days of the week patient is dialyzed
      id: dialysis_schedule_days
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
          '2': null
    - description: Shift patient is dialyzed
      id: dialysis_schedule_time
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
          '2': null
          '3': null
    - description: Etiology of ESRD
      id: etiology_esrd
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
          '2': null
          '3': null
          '4': null
          '5': null
          '6': null
    - description: Comments
      id: subject_comments
      identifiable: false
      required: false
      type: text
    title: test_redcap_1
    version: '1.0'
- sh: redcap-rios --title test_redcap_1 --id urn:redcap_1 --instrument-version 1.0
    --infile ./test/redcap_1.csv --prefix ./test/sandbox/test_redcap_1 --format json
  stdout: ''
- sh: rios-validate instrument ./test/sandbox/test_redcap_1_i.json
  stdout: |
    Successful validation.
- sh: rios-validate --instrument ./test/sandbox/test_redcap_1_i.json form ./test/sandbox/test_redcap_1_f.json
  stdout: |
    Successful validation.
- sh: redcap-rios --title test_redcap_matrix_1 --id urn:redcap_matrix_1 --instrument-version
    1.0 --infile ./test/redcap_matrix_1.csv --prefix ./test/sandbox/test_redcap_matrix_1
  stdout: ''
- sh: cat ./test/sandbox/test_redcap_matrix_1_f.yaml
  stdout: |
    defaultLocalization: en
    instrument:
      id: urn:redcap_matrix_1
      version: '1.0'
    pages:
    - elements:
      - options:
          text:
            en: Matrix Header
        type: header
      - options:
          fieldId: matrixranking
          questions:
          - enumerations:
            - id: '1'
              text:
                en: ' column1'
            - id: '2'
              text:
                en: ' column2'
            - id: '3'
              text:
                en: ' column3'
            fieldId: radio
            text:
              en: MatrixRow1
          rows:
          - id: matrixrow1
            text:
              en: MatrixRow1
          - id: matrixrow2
            text:
              en: MatrixRow2
          - id: matrixrow3
            text:
              en: MatrixRow3
          text:
            en: MatrixRow1
        type: question
      id: matrixranking
    title:
      en: test_redcap_matrix_1
- sh: cat ./test/sandbox/test_redcap_matrix_1_i.yaml
  stdout: |
    id: urn:redcap_matrix_1
    record:
    - description: Matrix Header
      id: matrixranking
      identifiable: false
      required: false
      type:
        base: matrix
        columns:
        - description: radio
          id: radio
          identifiable: false
          required: false
          type:
            base: enumeration
            enumerations:
              '1': null
              '2': null
              '3': null
        rows:
        - description: MatrixRow1
          id: matrixrow1
          required: false
        - description: MatrixRow2
          id: matrixrow2
          required: false
        - description: MatrixRow3
          id: matrixrow3
          required: false
    title: test_redcap_matrix_1
    version: '1.0'
- sh: redcap-rios --title test_redcap_matrix_1 --id urn:redcap_matrix_1 --instrument-version
    1.0 --infile ./test/redcap_1.csv --prefix ./test/sandbox/test_redcap_matrix_1
    --format json
  stdout: ''
- sh: rios-validate instrument ./test/sandbox/test_redcap_matrix_1_i.json
  stdout: |
    Successful validation.
- sh: rios-validate --instrument ./test/sandbox/test_redcap_matrix_1_i.json form ./test/sandbox/test_redcap_matrix_1_f.json
  stdout: |
    Successful validation.
- sh: qualtrics-rios --instrument-version 1.0 --infile ./test/qualtrics_1.qsf --prefix
    ./test/sandbox/test_qualtrics_1
  stdout: ''
- sh: cat ./test/sandbox/test_qualtrics_1_f.yaml
  stdout: |
    defaultLocalization: en
    instrument:
      id: urn:SV_1MMcjvoGWqh8uUZ
      version: '1.0'
    pages:
    - elements:
      - options:
          fieldId: q1
          text:
            en: ' We are conducting a brief public opinion survey of persons 55 years
              of age and older regarding health care needs.  This survey is to be completed
              by someone who falls into that age category.'
        type: question
      id: page_01
    - elements:
      - options:
          enumerations:
          - id: '0'
            text:
              en: Excellent
          - id: '1'
            text:
              en: Good
          - id: '2'
            text:
              en: Fair
          - id: '3'
            text:
              en: Poor
          fieldId: q2
          text:
            en: ' First of all, how would you evaluate the hospitals in your area in their
              ability to treat health problems related to age?'
        type: question
      - options:
          enumerations:
          - id: '1'
            text:
              en: In good physical health.  (No significant illnesses or disabilities.  Only
                routine medical care such as annual checkups required.)
          - id: '2'
            text:
              en: Mildly physically impaired.  (You have only minor illnesses and/or disabilities
                which might benefit from medical treatment or corrective measures.)
          - id: '3'
            text:
              en: Moderately physically impaired.  (You have one or more diseases or disabilities
                which are either painful or which require substantial medical treatment.)
          - id: '4'
            text:
              en: Severely physically impaired.  (You have one or more illnesses or disabilities
                which are either severely painful or life threatening, or which require
                extensive medical treatment.)
          - id: '5'
            text:
              en: Totally physically impaired.  (Confined to bed and requiring full-time
                medical assistance or nursing care to maintain vital bodily functions.)
          fieldId: q3
          text:
            en: ' Now, let''s talk about your own personal health.  First of all, how
              would you evaluate your overall health.  Would you say you are:'
        type: question
      - options:
          enumerations:
          - id: '1'
            text:
              en: High degree of social support. (Much support is either given or is available,
                if needed, from family and friends.)
          - id: '2'
            text:
              en: Above average degree of social support.  (Given or potentially available
                from family and friends.)
          - id: '3'
            text:
              en: Average degree of social support from family and friends is given or
                potentially available.
          - id: '4'
            text:
              en: Below average degree of social support.  (While some support is available
                from friends, there is no family member from whom help can be obtained.)
          - id: '5'
            text:
              en: No support or potential support is available from either family or friends.
          fieldId: q4
          text:
            en: ' What about the amount of social support you receive from your family,
              friends, and the like.  When you have the need to talk to someone or go
              on outings with friends and/or relatives, do you feel there is someone who
              fulfills these needs?  Would you say you have a:'
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: Daily
          - id: '1'
            text:
              en: Several times a week
          - id: '2'
            text:
              en: Weekly
          - id: '3'
            text:
              en: Several times a month
          - id: '4'
            text:
              en: Monthly or less often
          fieldId: q5
          text:
            en: ' How often does a close friend or relative visit you in your home?'
        type: question
      - options:
          enumerations:
          - id: '1'
            text:
              en: You can perform all physical activities of daily living without assistance.  (Excellent
                capacity)
          - id: '2'
            text:
              en: You can perform all physical activities without assistance but may need
                some help with the heavy work such as laundry and housekeeping.  (Good
                capacity)
          - id: '3'
            text:
              en: You regularly require help with certain physical activities and/or heavy
                work but can get through any single day without help.  (Moderate capacity)
          - id: '4'
            text:
              en: You need help each day but not necessarily throughout the day or night.  (Severely
                impaired capacity)
          - id: '5'
            text:
              en: You need help throughout the day and/or night to carry out the activities
                of daily living.  (Completely impaired capacity)
          fieldId: q6
          text:
            en: ' Now, about your ability to perform everyday living activities.  Which
              of the following best describes your everyday living capacities:'
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: Without help
          - id: '1'
            text:
              en: With some help
          - id: '2'
            text:
              en: or, are you completely unable to travel unless special arrangements
                are made?
          fieldId: q7
          text:
            en: ' (TRANSPORTATION)  What about the following specific activities...  Can
              you get to places out of walking distances:'
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: Without help
          - id: '1'
            text:
              en: With some help
          - id: '2'
            text:
              en: or, are you completely unable to do any housework?
          fieldId: q8
          text:
            en: ' (HOUSEWORK)  Can you do your own housework:'
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: Without help
          - id: '1'
            text:
              en: With some help
          - id: '2'
            text:
              en: or, are you completely unable to do any shopping?
          fieldId: q9
          text:
            en: ' (SHOPPING)  Can you go shopping for groceries:'
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: Without help
          - id: '1'
            text:
              en: With some help
          - id: '2'
            text:
              en: or, are you completely unable to prepare any meals?
          fieldId: q10
          text:
            en: ' (MEAL PREPARATION)  Can you prepare your own meals:'
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: Without help
          - id: '1'
            text:
              en: With some help
          - id: '2'
            text:
              en: or, are you completely unable to do any laundry at all?
          fieldId: q11
          text:
            en: ' (LAUNDRY)  Can you do your own laundry:'
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: Without help
          - id: '1'
            text:
              en: With some help
          - id: '2'
            text:
              en: or, are you completely unable to handle money?
          fieldId: q12
          text:
            en: ' (MONEY MANAGEMENT)  Can you manage your own money:'
        type: question
      - options:
          enumerations:
          - id: '1'
            text:
              en: Without help
          - id: '2'
            text:
              en: With some help
          - id: '3'
            text:
              en: or, does someone do all these types of things for you?
          fieldId: q13
          text:
            en: ' (PERSONAL CARE)  Do you take care of your own appearance, things like
              combing your hair (for men shaving):'
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: Without help (pick out clothes, dress/undress self)
          - id: '1'
            text:
              en: With some help
          - id: '2'
            text:
              en: or, does someone dress and undress you?
          fieldId: q14
          text:
            en: ' (PERSONAL CARE)  Do you dress and undress yourself:'
        type: question
      - options:
          fieldId: q15
          text:
            en: <br>(TAKING MEDICATIONS)  During the past 24 hours, how many different
              kinds of medication have you taken?
        type: question
      - options:
          fieldId: q16
          text:
            en: <br>If you have taken medication in the last 24 hours, how many of the
              medications you have taken have been prescribed by your physician?
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: Without help (in the right doses at the right time)
          - id: '1'
            text:
              en: or, are you completely unable to take your own medicines?
          - id: '2'
            text:
              en: With some help (take medicine if someone prepares it for you and/or
                reminds you to take it)
          fieldId: q17
          text:
            en: ' If you have taken medication in the last 24 hours, do you take your
              medicine:'
        type: question
      - options:
          fieldId: q18
          text:
            en: ' Let me now ask you some questions about some specific health conditions.'
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: Self
          - id: '1'
            text:
              en: Spouse
          - id: '2'
            text:
              en: Both
          - id: '3'
            text:
              en: Neither
          fieldId: q19
          text:
            en: ' Do you or your spouse experience chronic pain?  (That is, ongoing or
              recurring pain)'
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: No treatment
          - id: '1'
            text:
              en: Medication
          - id: '2'
            text:
              en: Other
          fieldId: q20
          text:
            en: ' If yes, how are you or your spouse currently being treated for chronic
              pain?'
        type: question
      - options:
          fieldId: q21
          text:
            en: ' Just a few demographic questions in order to categorize the data:'
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: 55-59
          - id: '1'
            text:
              en: 60-64
          - id: '2'
            text:
              en: 65-69
          - id: '3'
            text:
              en: 70-74
          - id: '4'
            text:
              en: 75-79
          - id: '5'
            text:
              en: 80-84
          - id: '6'
            text:
              en: 85+
          fieldId: q22
          text:
            en: ' Age category:'
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: Male
          - id: '1'
            text:
              en: Female
          fieldId: q23
          text:
            en: ' Gender:'
        type: question
      - options:
          fieldId: q24
          text:
            en: '<br>Number of members residing in your household:'
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: Live with spouse only
          - id: '1'
            text:
              en: Live with spouse and children
          - id: '2'
            text:
              en: Live alone
          - id: '3'
            text:
              en: Other
          fieldId: q25
          text:
            en: ' What are your current living arrangements, in terms of who you are living
              with or who is living with you?'
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: Own
          - id: '1'
            text:
              en: Rent
          - id: '2'
            text:
              en: Other
          fieldId: q26
          text:
            en: ' Do you own or rent your home?'
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: Retired
          - id: '1'
            text:
              en: Employed full time
          - id: '2'
            text:
              en: Employed part time
          fieldId: q27
          text:
            en: ' Employment status:'
        type: question
      - options:
          enumerations:
          - id: '0'
            text:
              en: Married
          - id: '1'
            text:
              en: Divorced
          - id: '2'
            text:
              en: Widowed
          - id: '3'
            text:
              en: Never been married
          fieldId: q28
          text:
            en: ' Marital status:'
        type: question
      id: page_02
    - elements:
      - options:
          fieldId: q29
          text:
            en: ' Thank you.'
        type: question
      id: page_03
    title:
      en: Health Status Survey - Copy
- sh: cat ./test/sandbox/test_qualtrics_1_i.yaml
  stdout: |
    description: Health Status Survey - Copy
    id: urn:SV_1MMcjvoGWqh8uUZ
    record:
    - description: We are conducting a brief public opinion
      id: q1
      identifiable: false
      required: false
      type: text
    - description: First of all, how would you evaluate the
      id: q2
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
          '2': null
          '3': null
    - description: Now, let's talk about your own personal health. First of all, how would
        you evaluate your overall he...
      id: q3
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '1': null
          '2': null
          '3': null
          '4': null
          '5': null
    - description: What about the amount of social support you receive from your family,
        friends, and the like. When yo...
      id: q4
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '1': null
          '2': null
          '3': null
          '4': null
          '5': null
    - description: How often does a close friend or relativ
      id: q5
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
          '2': null
          '3': null
          '4': null
    - description: Now, about your ability to perform everyday living activities. Which
        of the following best describes...
      id: q6
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '1': null
          '2': null
          '3': null
          '4': null
          '5': null
    - description: (TRANSPORTATION)  What about the followi
      id: q7
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
          '2': null
    - description: (HOUSEWORK)  Can you do your own housewo
      id: q8
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
          '2': null
    - description: (SHOPPING)  Can you go shopping for groc
      id: q9
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
          '2': null
    - description: (MEAL PREPARATION)  Can you prepare your
      id: q10
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
          '2': null
    - description: '(LAUNDRY)  Can you do your own laundry:'
      id: q11
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
          '2': null
    - description: '(MONEY MANAGEMENT)  Can you manage your '
      id: q12
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
          '2': null
    - description: (PERSONAL CARE) Do you take care of your own appearance, things like
        combing your hair (for men shav...
      id: q13
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '1': null
          '2': null
          '3': null
    - description: (PERSONAL CARE)  Do you dress and undres
      id: q14
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
          '2': null
    - description: (TAKING MEDICATIONS)  During the past 24
      id: q15
      identifiable: false
      required: false
      type: text
    - description: If you have taken medication in the last
      id: q16
      identifiable: false
      required: false
      type: text
    - description: If you have taken medication in the last
      id: q17
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
          '2': null
    - description: 'Let me now ask you some questions about '
      id: q18
      identifiable: false
      required: false
      type: text
    - description: Do you or your spouse experience chronic
      id: q19
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
          '2': null
          '3': null
    - description: If yes, how are you or your spouse curre
      id: q20
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
          '2': null
    - description: Just a few demographic questions in orde
      id: q21
      identifiable: false
      required: false
      type: text
    - description: 'Age category:'
      id: q22
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
          '2': null
          '3': null
          '4': null
          '5': null
          '6': null
    - description: 'Gender:'
      id: q23
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
    - description: Number of members residing in your house
      id: q24
      identifiable: false
      required: false
      type: text
    - description: What are your current living arrangement
      id: q25
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
          '2': null
          '3': null
    - description: Do you own or rent your home?
      id: q26
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
          '2': null
    - description: 'Employment status:'
      id: q27
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
          '2': null
    - description: 'Marital status:'
      id: q28
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '0': null
          '1': null
          '2': null
          '3': null
    - description: Thank you.
      id: q29
      identifiable: false
      required: false
      type: text
    title: Health Status Survey - Copy
    version: '1.0'
- sh: qualtrics-rios --instrument-version 1.0 --infile ./test/qualtrics_1.qsf --prefix
    ./test/sandbox/test_qualtrics_1 --format json
  stdout: ''
- sh: rios-validate instrument ./test/sandbox/test_qualtrics_1_i.json
  stdout: |
    Successful validation.
- sh: rios-validate --instrument ./test/sandbox/test_qualtrics_1_i.json form ./test/sandbox/test_qualtrics_1_f.json
  stdout: |
    Successful validation.
- sh: qualtrics-rios --instrument-version 1.0 --infile ./test/qualtrics_2.qsf --prefix
    ./test/sandbox/test_qualtrics_2
  stdout: ''
- sh: cat ./test/sandbox/test_qualtrics_2_f.yaml
  stdout: |
    defaultLocalization: en
    instrument:
      id: urn:SV_bDCT15dkrUBiE4J
      version: '1.0'
    pages:
    - elements:
      - options:
          enumerations:
          - id: '1'
            text:
              en: 1- Never
          - id: '2'
            text:
              en: 2- Almost never
          - id: '3'
            text:
              en: 3- Sometimes
          - id: '4'
            text:
              en: 4- Often
          - id: '5'
            text:
              en: 5- Always
          fieldId: nqemnped12
          text:
            en: Being angry made it hard for me to be with my friends
        type: question
      - options:
          enumerations:
          - id: '1'
            text:
              en: 1- Never
          - id: '2'
            text:
              en: 2- Almost never
          - id: '3'
            text:
              en: 3- Sometimes
          - id: '4'
            text:
              en: 4- Often
          - id: '5'
            text:
              en: 5- Always
          fieldId: nqemnped13
          text:
            en: It was hard to do schoolwork because I was angry
        type: question
      - options:
          enumerations:
          - id: '1'
            text:
              en: 1- Never
          - id: '2'
            text:
              en: 2- Almost never
          - id: '3'
            text:
              en: 3- Sometimes
          - id: '4'
            text:
              en: 4- Often
          - id: '5'
            text:
              en: 5- Always
          fieldId: nqemnped14
          text:
            en: I felt angry
        type: question
      - options:
          enumerations:
          - id: '1'
            text:
              en: 1- Never
          - id: '2'
            text:
              en: 2- Almost never
          - id: '3'
            text:
              en: 3- Sometimes
          - id: '4'
            text:
              en: 4- Often
          - id: '5'
            text:
              en: 5- Always
          fieldId: nqemnped15
          text:
            en: I was so mad that I felt like throwing something
        type: question
      - options:
          enumerations:
          - id: '1'
            text:
              en: 1- Never
          - id: '2'
            text:
              en: 2- Almost never
          - id: '3'
            text:
              en: 3- Sometimes
          - id: '4'
            text:
              en: 4- Often
          - id: '5'
            text:
              en: 5- Always
          fieldId: nqemnped16
          text:
            en: I was so mad that I felt like hitting something
        type: question
      - options:
          enumerations:
          - id: '1'
            text:
              en: 1- Never
          - id: '2'
            text:
              en: 2- Almost never
          - id: '3'
            text:
              en: 3- Sometimes
          - id: '4'
            text:
              en: 4- Often
          - id: '5'
            text:
              en: 5- Always
          fieldId: nqemnped17
          text:
            en: I was so mad that I felt like yelling at someone
        type: question
      - options:
          enumerations:
          - id: '1'
            text:
              en: 1- Never
          - id: '2'
            text:
              en: 2- Almost never
          - id: '3'
            text:
              en: 3- Sometimes
          - id: '4'
            text:
              en: 4- Often
          - id: '5'
            text:
              en: 5- Always
          fieldId: nqemnped18
          text:
            en: I was so mad that I felt like breaking things
        type: question
      - options:
          enumerations:
          - id: '1'
            text:
              en: 1- Never
          - id: '2'
            text:
              en: 2- Almost never
          - id: '3'
            text:
              en: 3- Sometimes
          - id: '4'
            text:
              en: 4- Often
          - id: '5'
            text:
              en: 5- Always
          fieldId: nqemnped19
          text:
            en: I was so mad that I acted grouchy towards other people
        type: question
      id: page_01
    title:
      en: Neuro-QOL Pediatric Anger Short Form
- sh: cat ./test/sandbox/test_qualtrics_2_i.yaml
  stdout: |
    description: null
    id: urn:SV_bDCT15dkrUBiE4J
    record:
    - description: Being angry made it hard for me to be with my friends
      id: nqemnped12
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '1': null
          '2': null
          '3': null
          '4': null
          '5': null
    - description: It was hard to do schoolwork because I was angry
      id: nqemnped13
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '1': null
          '2': null
          '3': null
          '4': null
          '5': null
    - description: I felt angry
      id: nqemnped14
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '1': null
          '2': null
          '3': null
          '4': null
          '5': null
    - description: I was so mad that I felt like throwing something
      id: nqemnped15
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '1': null
          '2': null
          '3': null
          '4': null
          '5': null
    - description: I was so mad that I felt like hitting something
      id: nqemnped16
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '1': null
          '2': null
          '3': null
          '4': null
          '5': null
    - description: I was so mad that I felt like yelling at someone
      id: nqemnped17
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '1': null
          '2': null
          '3': null
          '4': null
          '5': null
    - description: I was so mad that I felt like breaking things
      id: nqemnped18
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '1': null
          '2': null
          '3': null
          '4': null
          '5': null
    - description: I was so mad that I acted grouchy towards other people
      id: nqemnped19
      identifiable: false
      required: false
      type:
        base: enumeration
        enumerations:
          '1': null
          '2': null
          '3': null
          '4': null
          '5': null
    title: Neuro-QOL Pediatric Anger Short Form
    version: '1.0'
- sh: qualtrics-rios --instrument-version 1.0 --infile ./test/qualtrics_2.qsf --prefix
    ./test/sandbox/test_qualtrics_2 --format json
  stdout: ''
- sh: rios-validate instrument ./test/sandbox/test_qualtrics_2_i.json
  stdout: |
    Successful validation.
- sh: rios-validate --instrument ./test/sandbox/test_qualtrics_2_i.json form ./test/sandbox/test_qualtrics_2_f.json
  stdout: |
    Successful validation.
- sh: qualtrics-rios --instrument-version 1.0 --infile ./test/qualtrics_2.qsf --prefix
    ./test/sandbox/test_qualtrics_1
  stdout: ''
- sh: redcap-rios --title test_redcap_1 --id redcap_1 --instrument-version 1.0 --infile
    ./test/redcap_1.csv --prefix ./test/sandbox/test_redcap_1 --format json
  stdout: ''
